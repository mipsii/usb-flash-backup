POT_FILE = messages.pot
PO_DIR = locale
LANGUAGES = sr cz en

all: $(POT_FILE)
	@for lang in $(LANGUAGES); do \
	 mkdir -p $(PO_DIR)/$$lang/LC_MESSAGES/; \
	 if [ ! -f $(PO_DIR)/$$lang/LC_MESSAGES/app.po ]; then \
	    cp $(POT_FILE) $(PO_DIR)/$$lang/LC_MESSAGES/app.po; \
	 fi; \
	 msgfmt $(PO_DIR)/$$lang/LC_MESSAGES/app.po -o $(PO_DIR)/$$lang/LC_MESSAGES/app.mo; \
	done

clean:
	rm -f $(POT_FILE)
	rm -f $(PO_DIR)/*/LC_MESSAGES/app.mo
	# Ukloni ovaj red ako želiš da zadržiš .po fajlove
	# rm -f $(PO_DIR)/*/LC_MESSAGES/app.po
