POT_FILE = messages.pot
PO_DIR = locale
MO_FILES = $(PO_DIR)/sr/LC_MESSAGES/app.mo $(PO_DIR)/de/LC_MESSAGES/app.mo

# Ruƒçno dodaj fajlove koje treba prevesti
FILES_TO_TRANSLATE = ./ui_gui.py ./usb_info.py ./appControl.py

all: $(MO_FILES)

$(POT_FILE):
    xgettext --keyword=_ --from-code=UTF-8 -o $(POT_FILE) $(FILES_TO_TRANSLATE)

$(PO_DIR)/%/LC_MESSAGES/app.po: $(POT_FILE)
    cp $(POT_FILE) $@

$(PO_DIR)/%/LC_MESSAGES/app.mo: $(PO_DIR)/%/LC_MESSAGES/app.po
    msgfmt $< -o $@
